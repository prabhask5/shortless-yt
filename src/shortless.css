/**
 * shortless.css
 *
 * Core stylesheet for the Shortless extension.
 * Hides ALL YouTube Shorts elements across desktop and mobile web.
 *
 * Injected at `document_start` via the extension manifest so that
 * Shorts content is hidden before the first paint — no flash of
 * unwanted content.
 *
 * Every rule uses `display: none !important` to override YouTube's
 * inline styles and specificity.
 */

/* =========================================================================
 * 1. SHORTS SHELVES & CAROUSELS
 *    Targets the shelf/carousel containers that appear on the Home page,
 *    Search results, Subscriptions feed, and Channel pages.
 * ========================================================================= */

/** Main Shorts shelf — the primary horizontal carousel labeled "Shorts". */
ytd-reel-shelf-renderer,

/** Alternate Shorts shelf — a variant container YouTube A/B tests. */
ytd-rich-shelf-renderer[is-shorts],

/** Grid-based Shorts display — used in some layouts as a slim grid card. */
ytd-rich-grid-slim-media,

/** Individual Shorts card inside a shelf carousel. */
ytd-reel-item-renderer,

/** Shorts player element — the inline video player used in shelves. */
ytd-reel-video-renderer {
  display: none !important;
}

/* =========================================================================
 * 2. INDIVIDUAL SHORTS IN FEEDS (by overlay badge)
 *    YouTube marks Shorts thumbnails with a special overlay badge
 *    (`overlay-style="SHORTS"`). These selectors catch any stray Shorts
 *    that appear as standalone items in video feeds, recommendations,
 *    and sidebars — even outside a dedicated shelf.
 * ========================================================================= */

/** Shorts in grid layouts (e.g. channel "Videos" tab, topic pages). */
ytd-grid-video-renderer:has(ytd-thumbnail-overlay-time-status-renderer[overlay-style="SHORTS"]),

/** Shorts in rich item feeds (Home page main grid). */
ytd-rich-item-renderer:has(ytd-thumbnail-overlay-time-status-renderer[overlay-style="SHORTS"]),

/** Shorts in standard video lists (Search results, playlists). */
ytd-video-renderer:has(ytd-thumbnail-overlay-time-status-renderer[overlay-style="SHORTS"]),

/** Shorts in compact video lists (watch-next sidebar, end screens). */
ytd-compact-video-renderer:has(ytd-thumbnail-overlay-time-status-renderer[overlay-style="SHORTS"]),

/** Shorts detected by /shorts/ link href (catches all Shorts regardless of overlay). */
ytd-grid-video-renderer:has(a[href*="/shorts/"]),
ytd-rich-item-renderer:has(a[href*="/shorts/"]),
ytd-video-renderer:has(a[href*="/shorts/"]),
ytd-compact-video-renderer:has(a[href*="/shorts/"]) {
  display: none !important;
}

/* =========================================================================
 * 3. SIDEBAR NAVIGATION
 *    Removes the "Shorts" link from both the expanded left sidebar
 *    (guide) and the collapsed mini sidebar so users are never
 *    tempted to navigate there.
 * ========================================================================= */

/** Expanded sidebar — the full-width guide entry for "Shorts". */
ytd-guide-entry-renderer:has(a[title="Shorts"]),

/** Collapsed sidebar — the mini icon entry for "Shorts". */
ytd-mini-guide-entry-renderer:has(a[title="Shorts"]) {
  display: none !important;
}

/* =========================================================================
 * 4. CHANNEL PAGE SHORTS TAB
 *    Hides the "Shorts" tab on channel pages so users only see
 *    Videos, Live, Playlists, Community, etc.
 * ========================================================================= */

/** Modern tab shape element used in the redesigned channel layout. */
yt-tab-shape[tab-title="Shorts"],

/** Legacy paper tab element still used in some channel page variants. */
tp-yt-paper-tab:has(yt-formatted-string[title="Shorts"]) {
  display: none !important;
}

/* =========================================================================
 * 5. SHORTS FILTER CHIPS
 *    Search and explore pages show filter chips (pill buttons) at the
 *    top of results. This removes the "Shorts" chip so it cannot be
 *    used as a filter.
 * ========================================================================= */

/** Filter chip labeled "Shorts" in the chip cloud bar. */
yt-chip-cloud-chip-renderer:has(yt-formatted-string[title="Shorts"]),

/** Filter chip on history/library pages — uses chip-view-model element.
  * Hide the wrapper div too to eliminate its padding. */
chip-view-model:has(button[aria-label="Shorts"]),
.ytChipBarViewModelChipWrapper:has(button[aria-label="Shorts"]) {
  display: none !important;
}

/* =========================================================================
 * 6. NOTIFICATIONS
 *    Hides notification entries that link to a Shorts video, identified
 *    by the `/shorts/` path segment in the notification anchor URL.
 * ========================================================================= */

/** Notification bell dropdown item linking to a Shorts video. */
ytd-notification-renderer:has(a[href*="/shorts/"]) {
  display: none !important;
}

/* =========================================================================
 * 7. "SHORTS REMIXING THIS VIDEO" SECTION
 *    On regular video watch pages, YouTube sometimes shows a shelf
 *    of Shorts that "remix" the current video. This hides that shelf.
 * ========================================================================= */

/** Remix shelf — reuses reel-shelf-renderer with the is-shorts attribute. */
ytd-reel-shelf-renderer[is-shorts] {
  display: none !important;
}

/* =========================================================================
 * 8. "LATEST SHORTS FROM [CHANNEL]" IN SEARCH RESULTS
 *    Search results show a grid-shelf-view-model containing
 *    ytm-shorts-lockup-view-model items (shorts-only custom elements),
 *    with a header and show more/less buttons. Hide the entire
 *    item-section wrapper so no trace remains.
 * ========================================================================= */

/** Grid shelf containing Shorts lockup cards (search results). */
grid-shelf-view-model:has(ytm-shorts-lockup-view-model) {
  display: none !important;
}

/* =========================================================================
 * 9. MOBILE WEB (m.youtube.com)
 *    Mobile web uses its own `ytm-*` custom elements. These selectors
 *    cover the mobile Shorts shelf, bottom-bar navigation icon, and
 *    individual Shorts cards. Useful for the userscript variant on
 *    iOS Safari and other mobile browsers.
 * ========================================================================= */

/** Mobile Shorts shelf carousel on the home feed. */
ytm-reel-shelf-renderer,

/** Mobile bottom navigation bar — the "Shorts" pivot tab icon. */
ytm-pivot-bar-item-renderer:has(.pivot-shorts),

/** Mobile Shorts card — the lockup view model for a single Short. */
ytm-shorts-lockup-view-model,

/** Mobile rich item wrapping a Shorts lockup (home/subscription feeds). */
ytm-rich-item-renderer:has(ytm-shorts-lockup-view-model),

/** Mobile video renderer marked with the SHORTS data-style attribute. */
ytm-video-with-context-renderer:has([data-style="SHORTS"]),

/** Mobile Shorts detected by /shorts/ link href (history, feeds, etc.). */
ytm-video-with-context-renderer:has(a[href*="/shorts/"]),
ytm-media-item:has(a[href*="/shorts/"]),
ytm-compact-video-renderer:has(a[href*="/shorts/"]) {
  display: none !important;
}
